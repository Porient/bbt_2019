<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bbt.back.dao.ComputerDao">
    <resultMap id="computerMap" type="com.bbt.back.entities.Computer">
        <id column="product_id" property="productId" />
        <result column="brand" property="brand" />
        <result column="con_performance" property="conPerformance" />
        <result column="game_performance" property="gamePerformance" />
        <result column="interfaces" property="interfaces" />
        <result column="storage" property="storage" />
        <result column="sound" property="sound" />
        <result column="camera" property="camera" />
        <result column="specification" property="specification" />
        <result column="internet" property="internet" />
        <result column="screen" property="screen" />
        <result column="endurance" property="endurance" />
        <result column="other" property="other" />
        <result column="price" property="price" />
        <result column="url" property="url" />
        <result column="appearance1" property="appearance1" />
        <result column="appearance2" property="appearance2" />
        <result column="appearance3" property="appearance3" />
        <result column="tag1" property="tag1" />
        <result column="tag2" property="tag2" />
        <result column="tag3" property="tag3" />
        <result column="product_type" property="product_type" />
        <result column="library" property="library" />
        <result column="product_analysis" property="productAnalysis" />
    </resultMap>

    <delete id="deleteComputer" parameterType="java.lang.Integer">
      delete from `computer`
      where product_id = #{productId}
    </delete>

    <insert id="insertComputer" parameterType="com.bbt.back.entities.Computer">
    insert into `computer` (brand, con_performance, game_performance,
      interfaces, storage, sound, camera, specification, peripheral,
      internet, screen, endurance, other, price, url,
      appearance1, appearance2, appearance3, tag1, tag2, tag3,screen, product_type,
      library, product_analysis)
    values (#{brand}, #{conPerformance}, #{gamePerformance}, #{interfaces}, #{storage}, #{sound}, #{camera}, #{specification},
            #{peripheral}, #{internet}, #{screen}, #{endurance}, #{other}, #{price}, #{url}, #{appearance1}, #{appearance2},
            #{appearance3}, #{tag1}, #{tag2}, #{tag3}, #{productType}, #{library}, #{productAnalysis})
  </insert>

    <update id="updateComputer" parameterType="com.bbt.back.entities.Computer">
        update `computer`
        <set>
            <if test="brand != null and brand != ''"> brand = #{brand},</if>
            <if test="conPerformance != null and conPerformance != ''"> con_performance = #{conPerformance},</if>
            <if test="gamePerformance != null and gamePerformance != ''"> game_performance = #{gamePerformance},</if>
            <if test="interfaces != null and interfaces != ''"> interfaces = #{interfaces},</if>
            <if test="storage != null and storage != ''"> storage = #{storage},</if>
            <if test="sound != null and sound != ''"> sound = #{sound},</if>
            <if test="camera != null and camera != ''"> camera = #{camera},</if>
            <if test="specification != null and specification != ''"> specification = #{specification},</if>
            <if test="peripheral != null and peripheral != ''"> peripheral = #{peripheral},</if>
            <if test="internet != null and internet != ''"> internet = #{internet},</if>
            <if test="screen != null and screen != ''"> screen = #{screen},</if>
            <if test="endurance != null and endurance != ''"> endurance = #{endurance},</if>
            <if test="other != null and other != ''"> other = #{other},</if>
            <if test="price != null and price != ''"> price = #{price},</if>
            <if test="url != null and url != ''"> url = #{url},</if>
            <if test="appearance1 != null and appearance1 != ''"> appearance1 = #{appearance1},</if>
            <if test="appearance2 != null and appearance2 != ''"> appearance2 = #{appearance2},</if>
            <if test="appearance3 != null and appearance3 != ''"> appearance3 = #{appearance3},</if>
            <if test="tag1 != null and tag1 != ''"> tag1 = #{tag1},</if>
            <if test="tag2 != null and tag2 != ''"> tag2 = #{tag2},</if>
            <if test="tag3 != null and tag3 != ''"> tag3 = #{tag3},</if>
            <if test="product_type != null and product_type != ''"> product_type = #{productType},</if>
            <if test="library != null and library != ''"> library = #{library},</if>
            <if test="productAnalysis != null and productAnalysis != ''"> product_analysis = #{productAnalysis}</if>
        </set>
        where product_id = #{productId}
    </update>

    <select id="findComputerById" parameterType="java.lang.Integer" resultMap="computerMap">
      select c.*
      from `computer` c
      where c.product_id = #{productId}
    </select>

    <select id="selectAll" parameterType="java.lang.Integer" resultMap="computerMap">
      select c.*
      from `computer` c
    </select>
</mapper>